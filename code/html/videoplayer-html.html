<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Video Player with IMA Plugin</title>
    <link href="https://vjs.zencdn.net/7.10.2/video-js.css" rel="stylesheet" />
    <script src="https://vjs.zencdn.net/7.10.2/video.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/videojs-ima@1.5.0/dist/videojs.ima.min.js"></script>
    <script src="https://github.com/googleads/videojs-ima.git"></script>
    <style>
      .video-player {
        max-width: 640px;
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <div class="video-player">
      <video
        id="content_video"
        class="video-js vjs-default-skin"
        controls
        preload="auto"
        width="640"
        height="360"
      >
        <source src="assets/black-hole.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var player = videojs("content_video");

        var adTagUrl =
          "https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_ad_samples&sz=640x480&cust_params=sample_ct%3Dlinear&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=";

        player.ima({
          adTagUrl: adTagUrl,
          debug: true, // Set to true for debugging logs
        });
      });
    </script>
  </body>
</html>
